module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},33441,a=>{"use strict";let b=(0,a.i(70106).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],33441)},98621,a=>{"use strict";function b(){for(var a,b,c=0,d="",e=arguments.length;c<e;c++)(a=arguments[c])&&(b=function a(b){var c,d,e="";if("string"==typeof b||"number"==typeof b)e+=b;else if("object"==typeof b)if(Array.isArray(b)){var f=b.length;for(c=0;c<f;c++)b[c]&&(d=a(b[c]))&&(e&&(e+=" "),e+=d)}else for(d in b)b[d]&&(e&&(e+=" "),e+=d);return e}(a))&&(d&&(d+=" "),d+=b);return d}a.s(["clsx",()=>b])},33508,a=>{"use strict";let b=(0,a.i(70106).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],33508)},2484,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(33441),f=a.i(33508),g=a.i(13902),h=a.i(75003);function i(){let a=(0,d.useRouter)(),{theme:i}=(0,g.useTheme)(),{data:j,status:k}=(0,h.useSession)(),l="dark"===i,[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)(!0),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)("yearly"),C=(0,c.useRef)(null);(0,c.useEffect)(()=>{(async()=>{await Promise.all([D(),E(),F()])})()},[j]);let D=async()=>{if("loading"!==k&&j?.user?.email)try{let a=await fetch("/api/auth/verify-status",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(a.ok){let b=await a.json();n(b)}}catch(a){console.error("Error checking status:",a)}},E=async()=>{try{let a=await fetch("/api/pricing");if(a.ok){let b=((await a.json()).plans||[]).sort((a,b)=>a.displayOrder-b.displayOrder);p(b),b.length>0&&!u&&v(b[0]._id)}}catch(a){console.error("Error fetching pricing:",a),t("Failed to load pricing plans")}finally{r(!1)}},F=()=>{let a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/checkout.js",a.async=!0,document.head.appendChild(a),C.current=a},G=async b=>{let c=o.find(a=>a._id===b);if(c){if(!j?.user?.email)return void t("Email not found. Please log in again.");x(!0),z(""),t("");try{let b="monthly"===A?c.monthlyPrice:"sixMonth"===A?c.sixMonthPrice:c.yearlyPrice,d=Math.floor(100*b),e=await fetch("/api/payments/initiate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j.user.email,plan:c.planName,amount:d,duration:"monthly"===A?1:"sixMonth"===A?6:12,durationUnit:"months",planDisplayName:c.displayName})});if(!e.ok){let a=await e.json();t(a.message||"Failed to initiate payment"),x(!1);return}let f=await e.json(),g={key:"rzp_test_RoJxt06hL2rCM4",amount:f.amount,currency:"INR",name:"TrustInn Platform",description:`${c.displayName} Plan Subscription`,order_id:f.orderId,handler:async b=>{z("Verifying payment...");try{let c=await fetch("/api/payments/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:b.razorpay_order_id,razorpay_payment_id:b.razorpay_payment_id,razorpay_signature:b.razorpay_signature})});if(c.ok)z("âœ… Payment Successful! Activating your plan..."),setTimeout(()=>{x(!1),alert("âœ… Payment successful! Your premium plan is now active."),a.push("/trustinn")},3e3);else{let a=await c.json();x(!1),t(a.message||"Payment verification failed")}}catch(a){console.error("Verification error:",a),x(!1),t("Payment verification failed. Please contact support.")}},prefill:{email:j?.user?.email},theme:{color:"#3b82f6"}};window.Razorpay?(z("ðŸ’³ Preparing payment gateway..."),new window.Razorpay(g).open()):(t("Razorpay script not loaded. Please refresh and try again."),x(!1))}catch(a){console.error("Payment error:",a),t("Failed to initiate payment. Please try again."),x(!1)}}};return q?(0,b.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-white",children:"Loading pricing plans..."})]})}):(0,b.jsxs)("div",{className:`min-h-screen text-white ${l?"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:[(0,b.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,b.jsx)("div",{className:`absolute top-0 left-1/4 w-96 h-96 rounded-full blur-3xl ${l?"bg-blue-500 opacity-10":"bg-blue-300 opacity-20"}`}),(0,b.jsx)("div",{className:`absolute bottom-0 right-1/4 w-96 h-96 rounded-full blur-3xl ${l?"bg-purple-500 opacity-10":"bg-purple-300 opacity-20"}`})]}),(0,b.jsxs)("div",{className:"relative z-10",children:[(0,b.jsx)("div",{className:`border-b backdrop-blur-sm ${l?"border-slate-700/50 bg-slate-900/50":"border-gray-200/50 bg-white/50"}`,children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-20 text-center",children:[(0,b.jsx)("div",{className:`inline-block mb-4 px-4 py-2 rounded-full ${l?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/50":"bg-gradient-to-r from-blue-100/80 to-purple-100/80 border border-blue-200/50"}`,children:(0,b.jsx)("span",{className:`text-sm font-semibold ${l?"text-blue-300":"text-blue-700"}`,children:"ðŸ’Ž FLEXIBLE PRICING"})}),(0,b.jsx)("h1",{className:`text-5xl md:text-6xl font-bold mb-6 bg-clip-text text-transparent ${l?"bg-gradient-to-r from-blue-400 to-purple-400":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:"Choose Your Perfect Plan"}),(0,b.jsx)("p",{className:`text-lg md:text-xl max-w-2xl mx-auto mb-4 ${l?"text-slate-300":"text-gray-600"}`,children:"Powerful tools for code analysis, testing, and verification at any scale"})]})}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[m?.hasPremium&&(0,b.jsx)("div",{className:`mb-12 p-6 rounded-lg ${l?"bg-green-900 border border-green-700":"bg-green-50 border border-green-200"}`,children:(0,b.jsxs)("p",{className:`font-semibold ${l?"text-green-300":"text-green-800"}`,children:["âœ“ You already have ",m.currentPlan," active!"]})}),m?.trialExceeded&&!m?.hasPremium&&(0,b.jsx)("div",{className:`mb-12 p-6 rounded-lg ${l?"bg-red-900 border border-red-700":"bg-red-50 border border-red-200"}`,children:(0,b.jsx)("p",{className:`font-semibold ${l?"text-red-300":"text-red-800"}`,children:"â° Your trial period has ended. Upgrade to continue!"})}),s&&(0,b.jsx)("div",{className:`mb-8 p-4 rounded-lg ${l?"bg-red-900 border border-red-700 text-red-300":"bg-red-50 border border-red-200 text-red-800"}`,children:s}),(0,b.jsx)("div",{className:"flex justify-center mb-12",children:(0,b.jsxs)("div",{className:`backdrop-blur-sm rounded-lg p-1 ${l?"bg-slate-800/50 border border-slate-700":"bg-white/50 border border-gray-200"}`,children:[(0,b.jsx)("button",{onClick:()=>B("monthly"),className:`px-6 py-2 rounded-md text-sm font-medium transition ${"monthly"===A?"bg-blue-600 text-white shadow-lg":l?"text-slate-300 hover:text-white hover:bg-slate-700/50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/50"}`,children:"Monthly"}),(0,b.jsxs)("button",{onClick:()=>B("sixMonth"),className:`px-6 py-2 rounded-md text-sm font-medium transition ${"sixMonth"===A?"bg-blue-600 text-white shadow-lg":l?"text-slate-300 hover:text-white hover:bg-slate-700/50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/50"}`,children:["6 Months",(0,b.jsx)("span",{className:`ml-1 text-xs px-1 py-0.5 rounded ${l?"bg-green-600/20 text-green-300":"bg-green-100/80 text-green-700"}`,children:"Save 17%"})]}),(0,b.jsxs)("button",{onClick:()=>B("yearly"),className:`px-6 py-2 rounded-md text-sm font-medium transition ${"yearly"===A?"bg-blue-600 text-white shadow-lg":l?"text-slate-300 hover:text-white hover:bg-slate-700/50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/50"}`,children:["12 Months",(0,b.jsx)("span",{className:`ml-1 text-xs px-1 py-0.5 rounded ${l?"bg-green-600/20 text-green-300":"bg-green-100/80 text-green-700"}`,children:"Save 17%"})]})]})}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:o.map((a,c)=>{let d="Most Popular"===a.badge,g="monthly"===A?a.monthlyPrice:"sixMonth"===A?a.sixMonthPrice:a.yearlyPrice,h=m?.currentPlan===a.planName,i=l?{blue:{border:"border-blue-500/50",bg:"bg-gradient-to-br from-blue-900/30 to-blue-800/20",badge:"bg-blue-500/20 text-blue-300",button:"bg-blue-600 hover:bg-blue-700"},purple:{border:"border-purple-500/50",bg:"bg-gradient-to-br from-purple-900/30 to-purple-800/20",badge:"bg-purple-500/20 text-purple-300",button:"bg-purple-600 hover:bg-purple-700"},slate:{border:"border-slate-600/50",bg:"bg-gradient-to-br from-slate-800/50 to-slate-700/20",badge:"bg-slate-600/20 text-slate-300",button:"bg-slate-600 hover:bg-slate-700"}}:{blue:{border:"border-blue-300/50",bg:"bg-gradient-to-br from-blue-100/60 to-blue-50/40",badge:"bg-blue-100/80 text-blue-700",button:"bg-blue-600 hover:bg-blue-700"},purple:{border:"border-purple-300/50",bg:"bg-gradient-to-br from-purple-100/60 to-purple-50/40",badge:"bg-purple-100/80 text-purple-700",button:"bg-purple-600 hover:bg-purple-700"},slate:{border:"border-gray-300/50",bg:"bg-gradient-to-br from-gray-100/60 to-gray-50/40",badge:"bg-gray-100/80 text-gray-700",button:"bg-gray-600 hover:bg-gray-700"}},j=i[a.color]||i.slate;return(0,b.jsxs)("div",{className:`relative rounded-2xl border backdrop-blur transition transform hover:shadow-2xl hover:scale-105 group
                  ${j.border} ${j.bg}
                  ${d?"md:scale-105 shadow-2xl shadow-blue-500/20":"hover:shadow-lg"} 
                  p-8 overflow-hidden`,children:[(0,b.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition duration-500",children:(0,b.jsx)("div",{className:`absolute inset-0 ${j.bg} blur-xl`})}),(0,b.jsxs)("div",{className:"relative z-10",children:[a.badge&&(0,b.jsx)("div",{className:`inline-block mb-4 px-3 py-1 ${j.badge} text-xs font-bold rounded-full`,children:a.badge}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:`text-2xl font-bold mb-2 ${l?"text-white":"text-gray-900"}`,children:a.displayName}),(0,b.jsx)("p",{className:`text-sm ${l?"text-slate-400":"text-gray-600"}`,children:a.description})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-baseline gap-2 mb-2",children:[(0,b.jsxs)("span",{className:`text-4xl font-bold ${l?"text-white":"text-gray-900"}`,children:["â‚¹",g.toLocaleString("en-IN")]}),(0,b.jsxs)("span",{className:`${l?"text-slate-400":"text-gray-500"}`,children:["/","monthly"===A?"month":"sixMonth"===A?"6 months":"year"]})]}),(0,b.jsx)("p",{className:`text-xs ${l?"text-slate-400":"text-gray-500"}`,children:"monthly"===A?"Billed monthly":"sixMonth"===A?"Billed every 6 months":"Billed annually"})]}),(0,b.jsx)("button",{onClick:()=>G(a._id),disabled:h||m?.hasPremium,className:`w-full py-3 rounded-lg font-semibold mb-8 transition ${h?"bg-slate-600/50 text-slate-300 cursor-not-allowed":`${j.button} text-white`}`,children:h?"âœ“ Current Plan":"Upgrade Now"}),(0,b.jsxs)("div",{className:`space-y-3 mb-8 pb-8 border-b ${l?"border-slate-700/50":"border-gray-200/50"}`,children:[(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:`text-xs uppercase tracking-wide ${l?"text-slate-400":"text-gray-500"}`,children:"Executions/Month"}),(0,b.jsx)("p",{className:`font-semibold text-lg ${l?"text-white":"text-gray-900"}`,children:-1===a.executionsPerMonth?"Unlimited":a.executionsPerMonth.toLocaleString()})]}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:`text-xs uppercase tracking-wide ${l?"text-slate-400":"text-gray-500"}`,children:"Support"}),(0,b.jsx)("p",{className:`font-semibold capitalize ${l?"text-white":"text-gray-900"}`,children:a.supportLevel})]})]}),(0,b.jsx)("div",{className:"space-y-3 mb-6",children:a.features.slice(0,4).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[a.included?(0,b.jsx)(e.Check,{size:16,className:"text-green-400 flex-shrink-0"}):(0,b.jsx)(f.X,{size:16,className:`flex-shrink-0 ${l?"text-slate-500":"text-gray-400"}`}),(0,b.jsx)("span",{className:a.included?l?"text-slate-300":"text-gray-700":l?"text-slate-500":"text-gray-400",children:a.name})]},c))}),a.toolsIncluded.length>0&&(0,b.jsxs)("div",{className:`mt-4 pt-4 border-t ${l?"border-slate-700/50":"border-gray-200/50"}`,children:[(0,b.jsx)("p",{className:`text-xs mb-3 uppercase tracking-wide ${l?"text-slate-400":"text-gray-500"}`,children:"Included Tools:"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:a.toolsIncluded.filter(a=>a.available).map((a,c)=>(0,b.jsx)("span",{className:`text-xs px-2 py-1 rounded-lg ${l?"bg-slate-700/50 text-slate-300":"bg-gray-100/80 text-gray-700"}`,children:a.name},c))})]})]})]},a._id)})})]}),w&&(0,b.jsx)("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${l?"bg-black bg-opacity-75":"bg-gray-900 bg-opacity-50"}`,children:(0,b.jsxs)("div",{className:`rounded-lg shadow-2xl p-8 max-w-md w-full mx-4 border ${l?"bg-slate-800 border-slate-700":"bg-white border-gray-200"}`,children:[(0,b.jsx)("div",{className:"flex justify-center mb-6",children:(0,b.jsxs)("div",{className:"relative w-16 h-16",children:[(0,b.jsx)("div",{className:`absolute inset-0 rounded-full border-4 ${l?"border-slate-700":"border-gray-200"}`}),(0,b.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-500 animate-spin"})]})}),(0,b.jsx)("h3",{className:`text-xl font-bold text-center mb-3 ${l?"text-white":"text-gray-900"}`,children:"Payment Processing"}),(0,b.jsx)("p",{className:`text-center mb-6 ${l?"text-slate-300":"text-gray-600"}`,children:y||"Payment is being processed..."}),(0,b.jsx)("div",{className:`rounded p-4 mb-6 ${l?"bg-yellow-900 border border-yellow-700":"bg-yellow-50 border border-yellow-200"}`,children:(0,b.jsx)("p",{className:`text-sm font-semibold text-center ${l?"text-yellow-300":"text-yellow-800"}`,children:"âš ï¸ Please don't refresh or close this page until the transaction completes"})}),(0,b.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,b.jsxs)("div",{className:"flex items-center text-sm",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-600 text-white flex items-center justify-center mr-3 animate-pulse",children:"â‹¯"}),(0,b.jsx)("span",{className:`${l?"text-slate-300":"text-gray-700"}`,children:"Processing your payment..."})]}),(0,b.jsxs)("div",{className:"flex items-center text-sm",children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-slate-600 text-white flex items-center justify-center mr-3",children:"â—¯"}),(0,b.jsx)("span",{className:`${l?"text-slate-400":"text-gray-500"}`,children:"Verifying transaction..."})]})]})]})})]})]})}a.s(["default",()=>i])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__044ad3bd._.js.map