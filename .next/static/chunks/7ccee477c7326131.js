(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},7670,e=>{"use strict";function t(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}(e))&&(a&&(a+=" "),a+=t);return a}e.s(["clsx",()=>t])},18566,(e,t,r)=>{t.exports=e.r(76562)},75254,e=>{"use strict";var t=e.i(71645);let r=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:n,iconNode:d,...c},b)=>(0,t.createElement)("svg",{ref:b,...s,width:a,height:a,stroke:e,strokeWidth:i?24*Number(l)/Number(a):l,className:r("lucide",o),...!n&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...d.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(n)?n:[n]])),i=(e,s)=>{let i=(0,t.forwardRef)(({className:i,...o},n)=>(0,t.createElement)(l,{ref:n,iconNode:s,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...o}));return i.displayName=a(e),i};e.s(["default",()=>i],75254)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],43531)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},96738,e=>{"use strict";var t=e.i(43476),r=e.i(71645),a=e.i(18566),s=e.i(43531),l=e.i(37727),i=e.i(63178),o=e.i(17255);function n(){let e=(0,a.useRouter)(),{theme:n}=(0,i.useTheme)(),{data:d,status:c}=(0,o.useSession)(),b="dark"===n,[x,m]=(0,r.useState)(null),[u,p]=(0,r.useState)([]),[g,h]=(0,r.useState)(!0),[y,f]=(0,r.useState)(""),[v,j]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1),[$,P]=(0,r.useState)(""),[k,_]=(0,r.useState)("yearly"),C=(0,r.useRef)(null);(0,r.useEffect)(()=>{(async()=>{await Promise.all([S(),M(),z()])})()},[d]);let S=async()=>{if("loading"!==c&&d?.user?.email)try{let e=await fetch("/api/auth/verify-status",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include"});if(e.ok){let t=await e.json();m(t)}}catch(e){console.error("Error checking status:",e)}},M=async()=>{try{let e=await fetch("/api/pricing");if(e.ok){let t=((await e.json()).plans||[]).sort((e,t)=>e.displayOrder-t.displayOrder);p(t),t.length>0&&!v&&j(t[0]._id)}}catch(e){console.error("Error fetching pricing:",e),f("Failed to load pricing plans")}finally{h(!1)}},z=()=>{let e=document.createElement("script");e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.head.appendChild(e),C.current=e},T=async t=>{let r=u.find(e=>e._id===t);if(r){if(!d?.user?.email)return void f("Email not found. Please log in again.");w(!0),P(""),f("");try{let t="monthly"===k?r.monthlyPrice:"sixMonth"===k?r.sixMonthPrice:r.yearlyPrice,a=Math.floor(100*t),s=await fetch("/api/payments/initiate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d.user.email,plan:r.planName,amount:a,duration:"monthly"===k?1:"sixMonth"===k?6:12,durationUnit:"months",planDisplayName:r.displayName})});if(!s.ok){let e=await s.json();f(e.message||"Failed to initiate payment"),w(!1);return}let l=await s.json(),i={key:"rzp_test_RoJxt06hL2rCM4",amount:l.amount,currency:"INR",name:"TrustInn Platform",description:`${r.displayName} Plan Subscription`,order_id:l.orderId,handler:async t=>{P("Verifying payment...");try{let r=await fetch("/api/payments/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:t.razorpay_order_id,razorpay_payment_id:t.razorpay_payment_id,razorpay_signature:t.razorpay_signature})});if(r.ok)P("âœ… Payment Successful! Activating your plan..."),setTimeout(()=>{w(!1),alert("âœ… Payment successful! Your premium plan is now active."),e.push("/trustinn")},3e3);else{let e=await r.json();w(!1),f(e.message||"Payment verification failed")}}catch(e){console.error("Verification error:",e),w(!1),f("Payment verification failed. Please contact support.")}},prefill:{email:d?.user?.email},theme:{color:"#3b82f6"}};window.Razorpay?(P("ðŸ’³ Preparing payment gateway..."),new window.Razorpay(i).open()):(f("Razorpay script not loaded. Please refresh and try again."),w(!1))}catch(e){console.error("Payment error:",e),f("Failed to initiate payment. Please try again."),w(!1)}}};return g?(0,t.jsx)("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-white",children:"Loading pricing plans..."})]})}):(0,t.jsxs)("div",{className:`min-h-screen text-white ${b?"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900":"bg-gradient-to-br from-blue-50 via-white to-purple-50"}`,children:[(0,t.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[(0,t.jsx)("div",{className:`absolute top-0 left-1/4 w-96 h-96 rounded-full blur-3xl ${b?"bg-blue-500 opacity-10":"bg-blue-300 opacity-20"}`}),(0,t.jsx)("div",{className:`absolute bottom-0 right-1/4 w-96 h-96 rounded-full blur-3xl ${b?"bg-purple-500 opacity-10":"bg-purple-300 opacity-20"}`})]}),(0,t.jsxs)("div",{className:"relative z-10",children:[(0,t.jsx)("div",{className:`border-b backdrop-blur-sm ${b?"border-slate-700/50 bg-slate-900/50":"border-gray-200/50 bg-white/50"}`,children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-20 text-center",children:[(0,t.jsx)("div",{className:`inline-block mb-4 px-4 py-2 rounded-full ${b?"bg-gradient-to-r from-blue-500/20 to-purple-500/20 border border-blue-500/50":"bg-gradient-to-r from-blue-100/80 to-purple-100/80 border border-blue-200/50"}`,children:(0,t.jsx)("span",{className:`text-sm font-semibold ${b?"text-blue-300":"text-blue-700"}`,children:"ðŸ’Ž FLEXIBLE PRICING"})}),(0,t.jsx)("h1",{className:`text-5xl md:text-6xl font-bold mb-6 bg-clip-text text-transparent ${b?"bg-gradient-to-r from-blue-400 to-purple-400":"bg-gradient-to-r from-blue-600 to-purple-600"}`,children:"Choose Your Perfect Plan"}),(0,t.jsx)("p",{className:`text-lg md:text-xl max-w-2xl mx-auto mb-4 ${b?"text-slate-300":"text-gray-600"}`,children:"Powerful tools for code analysis, testing, and verification at any scale"})]})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[x?.hasPremium&&(0,t.jsx)("div",{className:`mb-12 p-6 rounded-lg ${b?"bg-green-900 border border-green-700":"bg-green-50 border border-green-200"}`,children:(0,t.jsxs)("p",{className:`font-semibold ${b?"text-green-300":"text-green-800"}`,children:["âœ“ You already have ",x.currentPlan," active!"]})}),x?.trialExceeded&&!x?.hasPremium&&(0,t.jsx)("div",{className:`mb-12 p-6 rounded-lg ${b?"bg-red-900 border border-red-700":"bg-red-50 border border-red-200"}`,children:(0,t.jsx)("p",{className:`font-semibold ${b?"text-red-300":"text-red-800"}`,children:"â° Your trial period has ended. Upgrade to continue!"})}),y&&(0,t.jsx)("div",{className:`mb-8 p-4 rounded-lg ${b?"bg-red-900 border border-red-700 text-red-300":"bg-red-50 border border-red-200 text-red-800"}`,children:y}),(0,t.jsx)("div",{className:"flex justify-center mb-12",children:(0,t.jsxs)("div",{className:`backdrop-blur-sm rounded-lg p-1 ${b?"bg-slate-800/50 border border-slate-700":"bg-white/50 border border-gray-200"}`,children:[(0,t.jsx)("button",{onClick:()=>_("monthly"),className:`px-6 py-2 rounded-md text-sm font-medium transition ${"monthly"===k?"bg-blue-600 text-white shadow-lg":b?"text-slate-300 hover:text-white hover:bg-slate-700/50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/50"}`,children:"Monthly"}),(0,t.jsxs)("button",{onClick:()=>_("sixMonth"),className:`px-6 py-2 rounded-md text-sm font-medium transition ${"sixMonth"===k?"bg-blue-600 text-white shadow-lg":b?"text-slate-300 hover:text-white hover:bg-slate-700/50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/50"}`,children:["6 Months",(0,t.jsx)("span",{className:`ml-1 text-xs px-1 py-0.5 rounded ${b?"bg-green-600/20 text-green-300":"bg-green-100/80 text-green-700"}`,children:"Save 17%"})]}),(0,t.jsxs)("button",{onClick:()=>_("yearly"),className:`px-6 py-2 rounded-md text-sm font-medium transition ${"yearly"===k?"bg-blue-600 text-white shadow-lg":b?"text-slate-300 hover:text-white hover:bg-slate-700/50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/50"}`,children:["12 Months",(0,t.jsx)("span",{className:`ml-1 text-xs px-1 py-0.5 rounded ${b?"bg-green-600/20 text-green-300":"bg-green-100/80 text-green-700"}`,children:"Save 17%"})]})]})}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:u.map((e,r)=>{let a="Most Popular"===e.badge,i="monthly"===k?e.monthlyPrice:"sixMonth"===k?e.sixMonthPrice:e.yearlyPrice,o=x?.currentPlan===e.planName,n=b?{blue:{border:"border-blue-500/50",bg:"bg-gradient-to-br from-blue-900/30 to-blue-800/20",badge:"bg-blue-500/20 text-blue-300",button:"bg-blue-600 hover:bg-blue-700"},purple:{border:"border-purple-500/50",bg:"bg-gradient-to-br from-purple-900/30 to-purple-800/20",badge:"bg-purple-500/20 text-purple-300",button:"bg-purple-600 hover:bg-purple-700"},slate:{border:"border-slate-600/50",bg:"bg-gradient-to-br from-slate-800/50 to-slate-700/20",badge:"bg-slate-600/20 text-slate-300",button:"bg-slate-600 hover:bg-slate-700"}}:{blue:{border:"border-blue-300/50",bg:"bg-gradient-to-br from-blue-100/60 to-blue-50/40",badge:"bg-blue-100/80 text-blue-700",button:"bg-blue-600 hover:bg-blue-700"},purple:{border:"border-purple-300/50",bg:"bg-gradient-to-br from-purple-100/60 to-purple-50/40",badge:"bg-purple-100/80 text-purple-700",button:"bg-purple-600 hover:bg-purple-700"},slate:{border:"border-gray-300/50",bg:"bg-gradient-to-br from-gray-100/60 to-gray-50/40",badge:"bg-gray-100/80 text-gray-700",button:"bg-gray-600 hover:bg-gray-700"}},d=n[e.color]||n.slate;return(0,t.jsxs)("div",{className:`relative rounded-2xl border backdrop-blur transition transform hover:shadow-2xl hover:scale-105 group
                  ${d.border} ${d.bg}
                  ${a?"md:scale-105 shadow-2xl shadow-blue-500/20":"hover:shadow-lg"} 
                  p-8 overflow-hidden`,children:[(0,t.jsx)("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition duration-500",children:(0,t.jsx)("div",{className:`absolute inset-0 ${d.bg} blur-xl`})}),(0,t.jsxs)("div",{className:"relative z-10",children:[e.badge&&(0,t.jsx)("div",{className:`inline-block mb-4 px-3 py-1 ${d.badge} text-xs font-bold rounded-full`,children:e.badge}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("h3",{className:`text-2xl font-bold mb-2 ${b?"text-white":"text-gray-900"}`,children:e.displayName}),(0,t.jsx)("p",{className:`text-sm ${b?"text-slate-400":"text-gray-600"}`,children:e.description})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-baseline gap-2 mb-2",children:[(0,t.jsxs)("span",{className:`text-4xl font-bold ${b?"text-white":"text-gray-900"}`,children:["â‚¹",i.toLocaleString("en-IN")]}),(0,t.jsxs)("span",{className:`${b?"text-slate-400":"text-gray-500"}`,children:["/","monthly"===k?"month":"sixMonth"===k?"6 months":"year"]})]}),(0,t.jsx)("p",{className:`text-xs ${b?"text-slate-400":"text-gray-500"}`,children:"monthly"===k?"Billed monthly":"sixMonth"===k?"Billed every 6 months":"Billed annually"})]}),(0,t.jsx)("button",{onClick:()=>T(e._id),disabled:o||x?.hasPremium,className:`w-full py-3 rounded-lg font-semibold mb-8 transition ${o?"bg-slate-600/50 text-slate-300 cursor-not-allowed":`${d.button} text-white`}`,children:o?"âœ“ Current Plan":"Upgrade Now"}),(0,t.jsxs)("div",{className:`space-y-3 mb-8 pb-8 border-b ${b?"border-slate-700/50":"border-gray-200/50"}`,children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:`text-xs uppercase tracking-wide ${b?"text-slate-400":"text-gray-500"}`,children:"Executions/Month"}),(0,t.jsx)("p",{className:`font-semibold text-lg ${b?"text-white":"text-gray-900"}`,children:-1===e.executionsPerMonth?"Unlimited":e.executionsPerMonth.toLocaleString()})]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:`text-xs uppercase tracking-wide ${b?"text-slate-400":"text-gray-500"}`,children:"Support"}),(0,t.jsx)("p",{className:`font-semibold capitalize ${b?"text-white":"text-gray-900"}`,children:e.supportLevel})]})]}),(0,t.jsx)("div",{className:"space-y-3 mb-6",children:e.features.slice(0,4).map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[e.included?(0,t.jsx)(s.Check,{size:16,className:"text-green-400 flex-shrink-0"}):(0,t.jsx)(l.X,{size:16,className:`flex-shrink-0 ${b?"text-slate-500":"text-gray-400"}`}),(0,t.jsx)("span",{className:e.included?b?"text-slate-300":"text-gray-700":b?"text-slate-500":"text-gray-400",children:e.name})]},r))}),e.toolsIncluded.length>0&&(0,t.jsxs)("div",{className:`mt-4 pt-4 border-t ${b?"border-slate-700/50":"border-gray-200/50"}`,children:[(0,t.jsx)("p",{className:`text-xs mb-3 uppercase tracking-wide ${b?"text-slate-400":"text-gray-500"}`,children:"Included Tools:"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.toolsIncluded.filter(e=>e.available).map((e,r)=>(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded-lg ${b?"bg-slate-700/50 text-slate-300":"bg-gray-100/80 text-gray-700"}`,children:e.name},r))})]})]})]},e._id)})})]}),N&&(0,t.jsx)("div",{className:`fixed inset-0 flex items-center justify-center z-50 ${b?"bg-black bg-opacity-75":"bg-gray-900 bg-opacity-50"}`,children:(0,t.jsxs)("div",{className:`rounded-lg shadow-2xl p-8 max-w-md w-full mx-4 border ${b?"bg-slate-800 border-slate-700":"bg-white border-gray-200"}`,children:[(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsxs)("div",{className:"relative w-16 h-16",children:[(0,t.jsx)("div",{className:`absolute inset-0 rounded-full border-4 ${b?"border-slate-700":"border-gray-200"}`}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-full border-4 border-transparent border-t-blue-500 animate-spin"})]})}),(0,t.jsx)("h3",{className:`text-xl font-bold text-center mb-3 ${b?"text-white":"text-gray-900"}`,children:"Payment Processing"}),(0,t.jsx)("p",{className:`text-center mb-6 ${b?"text-slate-300":"text-gray-600"}`,children:$||"Payment is being processed..."}),(0,t.jsx)("div",{className:`rounded p-4 mb-6 ${b?"bg-yellow-900 border border-yellow-700":"bg-yellow-50 border border-yellow-200"}`,children:(0,t.jsx)("p",{className:`text-sm font-semibold text-center ${b?"text-yellow-300":"text-yellow-800"}`,children:"âš ï¸ Please don't refresh or close this page until the transaction completes"})}),(0,t.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-blue-600 text-white flex items-center justify-center mr-3 animate-pulse",children:"â‹¯"}),(0,t.jsx)("span",{className:`${b?"text-slate-300":"text-gray-700"}`,children:"Processing your payment..."})]}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full bg-slate-600 text-white flex items-center justify-center mr-3",children:"â—¯"}),(0,t.jsx)("span",{className:`${b?"text-slate-400":"text-gray-500"}`,children:"Verifying transaction..."})]})]})]})})]})]})}e.s(["default",()=>n])}]);